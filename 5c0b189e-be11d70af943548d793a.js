"use strict";(self.webpackChunkblog_jh8459_com=self.webpackChunkblog_jh8459_com||[]).push([[348],{8689:function(e,n,t){var r;t.d(n,{Zx:function(){return F},bv:function(){return L},vW:function(){return j},we:function(){return I}});var o=t(6540),l=t(6984),c=t(7193),u=t(6635),s=t(961),f=t(4743),i=t(6885);const a={...r||(r=t.t(o,2))},g=a.useInsertionEffect||(e=>e());function m(e){const n=o.useRef(()=>{0});return g(()=>{n.current=e}),o.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}const d="ArrowUp",p="ArrowDown",h="ArrowLeft",v="ArrowRight";var R="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;const w=[h,v],b=[d,p];let C=!1,x=0;const T=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+x++;const y=a.useId||function(){const[e,n]=o.useState(()=>C?T():void 0);return R(()=>{null==e&&n(T())},[]),o.useEffect(()=>{C=!0},[]),e};function M(){const e=new Map;return{emit(n,t){var r;null==(r=e.get(n))||r.forEach(e=>e(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var r;e.set(n,(null==(r=e.get(n))?void 0:r.filter(e=>e!==t))||[])}}}const H=o.createContext(null),k=o.createContext(null),E=()=>{var e;return(null==(e=o.useContext(H))?void 0:e.id)||null},_=()=>o.useContext(k);const S="data-floating-ui-focusable";function I(e){void 0===e&&(e={});const{nodeId:n}=e,t=function(e){const{open:n=!1,onOpenChange:t,elements:r}=e,l=y(),c=o.useRef({}),[u]=o.useState(()=>M()),s=null!=E(),[f,i]=o.useState(r.reference),a=m((e,n,r)=>{c.current.openEvent=e?n:void 0,u.emit("openchange",{open:e,event:n,reason:r,nested:s}),null==t||t(e,n,r)}),g=o.useMemo(()=>({setPositionReference:i}),[]),d=o.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return o.useMemo(()=>({dataRef:c,open:n,onOpenChange:a,elements:d,events:u,floatingId:l,refs:g}),[n,a,d,u,l,g])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,l=r.elements,[c,s]=o.useState(null),[i,a]=o.useState(null),g=(null==l?void 0:l.domReference)||c,d=o.useRef(null),p=_();R(()=>{g&&(d.current=g)},[g]);const h=(0,f.we)({...e,elements:{...l,...i&&{reference:i}}}),v=o.useCallback(e=>{const n=(0,u.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;a(n),h.refs.setReference(n)},[h.refs]),w=o.useCallback(e=>{((0,u.vq)(e)||null===e)&&(d.current=e,s(e)),((0,u.vq)(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!(0,u.vq)(e))&&h.refs.setReference(e)},[h.refs]),b=o.useMemo(()=>({...h.refs,setReference:w,setPositionReference:v,domReference:d}),[h.refs,w,v]),C=o.useMemo(()=>({...h.elements,domReference:g}),[h.elements,g]),x=o.useMemo(()=>({...h,...r,refs:b,elements:C,nodeId:n}),[h,b,C,n,r]);return R(()=>{r.dataRef.current.floatingContext=x;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===n);e&&(e.context=x)}),o.useMemo(()=>({...h,context:x,refs:b,elements:C}),[h,b,C,x])}const A="active",q="selected";function P(e,n,t){const r=new Map,o="item"===t;let l=e;if(o&&e){const{[A]:n,[q]:t,...r}=e;l=r}return{..."floating"===t&&{tabIndex:-1,[S]:""},...l,...n.map(n=>{const r=n?n[t]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,n)=>n?(Object.entries(n).forEach(n=>{let[t,l]=n;var c;o&&[A,q].includes(t)||(0===t.indexOf("on")?(r.has(t)||r.set(t,[]),"function"==typeof l&&(null==(c=r.get(t))||c.push(l),e[t]=function(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return null==(e=r.get(t))?void 0:e.map(e=>e(...o)).find(e=>void 0!==e)})):e[t]=l)}),e):e,{})}}function L(e){void 0===e&&(e=[]);const n=e.map(e=>null==e?void 0:e.reference),t=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),l=o.useCallback(n=>P(n,e,"reference"),n),c=o.useCallback(n=>P(n,e,"floating"),t),u=o.useCallback(n=>P(n,e,"item"),r);return o.useMemo(()=>({getReferenceProps:l,getFloatingProps:c,getItemProps:u}),[l,c,u])}function O(e,n){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:n}}}}const j=e=>({name:"inner",options:e,async fn(n){const{listRef:t,overflowRef:r,onFallbackChange:o,offset:l=0,index:u=0,minItemsVisible:a=4,referenceOverflowThreshold:g=0,scrollRef:m,...d}=(0,c._3)(e,n),{rects:p,elements:{floating:h}}=n,v=t.current[u],R=(null==m?void 0:m.current)||h,w=h.clientTop||R.clientTop,b=0!==h.clientTop,C=0!==R.clientTop,x=h===R;if(!v)return{};const T={...n,...await(0,f.cY)(-v.offsetTop-h.clientTop-p.reference.height/2-v.offsetHeight/2-l).fn(n)},y=await(0,i.__)(O(T,R.scrollHeight+w+h.clientTop),d),M=await(0,i.__)(T,{...d,elementContext:"reference"}),H=(0,c.T9)(0,y.top),k=T.y+H,E=(R.scrollHeight>R.clientHeight?e=>e:c.LI)((0,c.T9)(0,R.scrollHeight+(b&&x||C?2*w:0)-H-(0,c.T9)(0,y.bottom)));if(R.style.maxHeight=E+"px",R.scrollTop=H,o){const e=R.offsetHeight<v.offsetHeight*(0,c.jk)(a,t.current.length)-1||M.top>=-g||M.bottom>=-g;s.flushSync(()=>o(e))}return r&&(r.current=await(0,i.__)(O({...T,y:k},R.offsetHeight+w+h.clientTop),d)),{y:k}}});function F(e,n){const{open:t,elements:r}=e,{enabled:c=!0,overflowRef:u,scrollRef:f,onChange:i}=n,a=m(i),g=o.useRef(!1),d=o.useRef(null),p=o.useRef(null);o.useEffect(()=>{if(!c)return;function e(e){if(e.ctrlKey||!n||null==u.current)return;const t=e.deltaY,r=u.current.top>=-.5,o=u.current.bottom>=-.5,c=n.scrollHeight-n.clientHeight,f=t<0?-1:1,i=t<0?"max":"min";n.scrollHeight<=n.clientHeight||(!r&&t>0||!o&&t<0?(e.preventDefault(),s.flushSync(()=>{a(e=>e+Math[i](t,c*f))})):/firefox/i.test((0,l.$t)())&&(n.scrollTop+=t))}const n=(null==f?void 0:f.current)||r.floating;return t&&n?(n.addEventListener("wheel",e),requestAnimationFrame(()=>{d.current=n.scrollTop,null!=u.current&&(p.current={...u.current})}),()=>{d.current=null,p.current=null,n.removeEventListener("wheel",e)}):void 0},[c,t,r.floating,u,f,a]);const h=o.useMemo(()=>({onKeyDown(){g.current=!0},onWheel(){g.current=!1},onPointerMove(){g.current=!1},onScroll(){const e=(null==f?void 0:f.current)||r.floating;if(u.current&&e&&g.current){if(null!==d.current){const n=e.scrollTop-d.current;(u.current.bottom<-.5&&n<-1||u.current.top<-.5&&n>1)&&s.flushSync(()=>a(e=>e+n))}requestAnimationFrame(()=>{d.current=e.scrollTop})}}}),[r.floating,a,u,f]);return o.useMemo(()=>c?{floating:h}:{},[c,h])}}}]);
//# sourceMappingURL=5c0b189e-be11d70af943548d793a.js.map