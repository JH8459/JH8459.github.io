"use strict";(self.webpackChunkblog_jh8459_com=self.webpackChunkblog_jh8459_com||[]).push([[395],{756:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var r=a(758),l=a(4839),o=a(4402),n=a(1402),s=a(1688),c=a(477),m=a(770);function i(e){let{viewCount:t,allowZero:a=!1}=e;const l=function(){const[e,t]=r.useState(!1);return r.useEffect(()=>t(!0),[]),e}(),o=null==t?null:Number(t),n="number"==typeof o&&Number.isFinite(o)&&(!!a||o>0),s=!l||!n,c="number"==typeof o?o:0;return r.createElement("span",{className:"inline-flex items-center","aria-live":"polite","aria-busy":s},r.createElement(m.Ny1,{className:"w-4 h-4 mr-1"})," ",s?r.createElement("span",{className:"flex items-center"},r.createElement(m.hW,{className:"animate-spin text-[1em] text-[var(--secondary-text-color)] ml-1"})):r.createElement("span",{className:"flex items-center ml-1"},c))}var d=function(e){let{post:t,viewCount:a}=e;const{0:l,1:o}=(0,r.useState)(!1),n=Math.ceil(((new Date).getTime()-new Date(t.date).getTime())/864e5)<=7;return r.createElement("header",{className:"w-full border-b border-[var(--post-card-border-color)] pb-9 pt-10 break-keep md:pt-12"},r.createElement("h1",{className:"title mb-4 text-[29px] font-extrabold leading-[1.25] tracking-[-0.02em] text-[var(--primary-text-color)] md:text-[35px]"},t.title,n&&r.createElement("span",{className:"ml-2 inline-flex rounded-md bg-red-50 px-2.5 py-[2px] align-middle text-[12px] font-bold uppercase tracking-[0.05em] text-red-500 dark:bg-red-900/30 dark:text-red-300 md:text-[13px]"},"New")),r.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},r.createElement("div",{className:"flex flex-wrap items-center gap-2"},t.emoji&&r.createElement("div",{className:"mr-[2px] text-[18px]"},t.emoji),t.categories.map(e=>r.createElement(c.Link,{className:"rounded-md bg-[var(--button-background-color)] px-1.5 py-[1px] text-[11px] font-semibold uppercase tracking-[0.05em] text-[var(--secondary-text-color)] transition-colors duration-200 hover:text-[var(--primary-text-color)]",key:e,to:"/posts/"+e},e))),r.createElement("div",{className:"info flex flex-wrap items-center gap-x-4 gap-y-2 text-[13px] font-medium text-[var(--secondary-text-color)] md:justify-end"},r.createElement("button",{type:"button",className:"relative flex items-center",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onFocus:()=>o(!0),onBlur:()=>o(!1)},r.createElement(m.obD,{className:"mr-1 h-4 w-4"}),r.createElement("strong",null,t.timeToRead+" min"),l&&r.createElement("div",{className:"absolute bottom-full left-1/2 z-10 mb-2 w-max -translate-x-1/2 rounded-md border border-[var(--post-card-border-color)] bg-[var(--background-color)] px-2 py-1 text-[11px] font-medium text-[var(--secondary-text-color)] shadow-lg"},"이 게시글을 읽는데 "+t.timeToRead+"분 정도의 시간이 소요될 것으로 예상됩니다.")),r.createElement(i,{viewCount:a}),r.createElement("div",{className:"inline-flex items-center"},r.createElement(m.bfZ,{className:"mr-1 h-4 w-4"})," ",t.date))))};var p=function(e){let{prevPost:t,nextPost:a}=e;return r.createElement("div",{className:"mt-12 grid w-full grid-cols-1 gap-3 border-t border-[var(--post-card-border-color)] pt-8 md:grid-cols-2 md:gap-4"},a&&r.createElement(c.Link,{className:"post-card mr-auto flex w-full flex-col rounded-md border border-[var(--post-card-border-color)] p-4 text-[var(--primary-text-color)] transition-colors duration-200 hover:border-[var(--primary-text-color)]",key:a.id,to:a.slug},r.createElement("div",{className:"direction mb-1 text-[12px] font-semibold uppercase tracking-[0.06em] text-[var(--secondary-text-color)]"},"Previous"),r.createElement("div",{className:"title text-[16px] font-semibold leading-[1.45]"},a.title),r.createElement("div",{className:"mt-2 flex items-center justify-between"},r.createElement("div",{className:"flex items-center text-[12px] font-medium text-[var(--secondary-text-color)]"},a.emoji&&r.createElement("span",{className:"mr-[4px]"},a.emoji),a.categories&&a.categories.map(e=>r.createElement("span",{key:e,className:"mr-[4px]"},e))),r.createElement("div",{className:"text-[12px] text-[var(--secondary-text-color)]"},a.date))),t&&r.createElement(c.Link,{className:"post-card ml-auto flex w-full flex-col rounded-md border border-[var(--post-card-border-color)] p-4 text-[var(--primary-text-color)] transition-colors duration-200 hover:border-[var(--primary-text-color)]",key:t.id,to:t.slug},r.createElement("div",{className:"direction mb-1 text-[12px] font-semibold uppercase tracking-[0.06em] text-[var(--secondary-text-color)]"},"Next"),r.createElement("div",{className:"title text-[16px] font-semibold leading-[1.45]"},t.title),r.createElement("div",{className:"mt-2 flex items-center justify-between"},r.createElement("div",{className:"flex items-center text-[12px] font-medium text-[var(--secondary-text-color)]"},t.emoji&&r.createElement("span",{className:"mr-[4px]"},t.emoji),t.categories&&t.categories.map(e=>r.createElement("span",{key:e,className:"mr-[4px]"},e))),r.createElement("div",{className:"text-[12px] text-[var(--secondary-text-color)]"},t.date))))},u=a(8067);var x=function(e){let{html:t}=e;return r.createElement("div",{className:"mb-[20px] flex w-full flex-col justify-center pt-8"},r.createElement("div",{className:"prose dark:prose-invert prose-img:mx-auto prose-headings:tracking-[-0.015em] prose-p:leading-[1.9] mx-auto w-full max-w-[760px]",dangerouslySetInnerHTML:{__html:null!=t?t:""}}))};var f=function(e){var t;let{repo:a,path:l}=e;const o=(0,r.useRef)(null),n=(0,r.useRef)(!1),s=(0,c.useStaticQuery)("962130685"),{repo:m,repoId:i,category:d,categoryId:p}=(null===(t=s.site.siteMetadata.comments)||void 0===t?void 0:t.giscus)||{};return(0,r.useEffect)(()=>{if(!o.current||n.current)return;if(!(m&&i&&d&&p))return;const e=localStorage.getItem("isDarkMode"),t=document.createElement("script"),r={src:"https://giscus.app/client.js","data-repo":null!=a?a:m,"data-repo-id":i,"data-category":d,"data-category-id":p,"data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":JSON.parse(e||"false")?"dark":"light","data-lang":"ko",crossorigin:"anonymous",async:"true"};Object.keys(r).forEach(e=>{t.setAttribute(e,r[e])}),o.current.appendChild(t),n.current=!0},[m,a,i,d,p,l]),r.createElement("div",{id:"giscus-comments",ref:o})};var v=function(e){var t,a;let{data:c,location:m}=e;const{0:i,1:v}=(0,r.useState)(0),b=new u.A(c.cur),g=c.prev?new u.A(c.prev):null,E=c.next?new u.A(c.next):null,{siteUrl:y,comments:N}=(null===(t=c.site)||void 0===t?void 0:t.siteMetadata)||{},w=null==N||null===(a=N.giscus)||void 0===a?void 0:a.repo;return(0,r.useEffect)(()=>{if(!y)return;const e=b.slug.replace(/\//g,""),t=(0,o.C3)(l.A),a=(0,o.KR)(t,"posts/"+e);(0,o.Jt)((0,o.jf)((0,o.KR)(t),"posts/"+e)).then(e=>{if(e.exists()){{const t=e.val().views+1;(0,o.yo)(a,{views:t}),v(t)}}else(0,o.hZ)(a,{views:1}),v(1)}).catch(e=>{console.error("Firebase read failed: ",e)})},[y,b.slug]),r.createElement(n.A,{tableOfContents:b.tableOfContents,contentMaxWidth:"max-w-[840px]"},r.createElement(s.A,{title:null==b?void 0:b.title,description:null==b?void 0:b.excerpt,pathname:m.pathname}),r.createElement(d,{post:b,viewCount:i}),r.createElement(x,{html:b.html}),r.createElement(p,{prevPost:g,nextPost:E}),r.createElement("div",{className:"mt-8 w-full"},w&&r.createElement(f,{repo:w,path:b.slug})))}}}]);
//# sourceMappingURL=component---src-templates-blog-template-tsx-7465b8659a6f1391c1c7.js.map