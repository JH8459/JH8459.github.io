---
emoji: π“
title: HTTPS, Hashing, Cookie
date: '2021-10-20'
author: JH8459
categories: TIL
---

![github-blog.png](../../assets/common/TIL.jpeg)

<br>

## βοΈ **T**oday **I** **L**earned

<br>

### 1. HTTPS

---

- HTTPλ” μ›Ή ν™κ²½μ—μ„ λΈλΌμ°μ €μ™€ μ›Ήμ„λ²„κ°€ ν†µμ‹ ν•λ” λ°©λ²•μ΄λ€κ±Έ μ΄μ „μ— ν•™μµν•μ€λ‹¤. κ·Έλ ‡λ‹¤λ©΄ HTTPSλ” λ¬΄μ—‡μΌκΉ?

  ![μ¤ν¬λ¦°μƒ·, 2021-11-22 21-01-59](https://user-images.githubusercontent.com/83164003/142858427-fbd9ca7b-65ba-4067-9df7-e4711710f469.png)

  HTTPS (HTTP + Secure) λ” HTTP protocolμ μ•”νΈν™”λ λ²„μ „μ΄λ‹¤. κΈ°μ΅΄ HTTP ν”„λ΅ν† μ½μ€ μ£Όκ³  λ°›λ” λ°μ΄ν„°κ°€ μ•”νΈν™” λμ§€ μ•κ³  κ·Έλ€λ΅ μ „μ†΅λλ” λ‹¨μ μ΄ μκΈ°μ— HTTPSκ°€ λ“±μ¥ν•μ€λ‹¤.

- HTTPSλ” HTTPμ ν•λ¶€μ— SSLκ³Ό κ°™μ€ λ³΄μ•κ³„μΈµμ„ μ κ³µν•¨μΌλ΅μ¨ λ™μ‘ν•λ‹¤.

  <center><img src="https://user-images.githubusercontent.com/83164003/142828032-fe0e825a-839f-4bae-a7c5-f703dd22899b.png"/></center>

<br>
<br>

#### 1-1. μ•”νΈν™” ν‚¤(Key)

---

![https-3](https://user-images.githubusercontent.com/83164003/142827039-596c5716-d978-43fa-8ca7-bee963185cf0.jpeg)

- μ„μ—μ„ HTTPSλ” μ£Όκ³  λ°›λ” λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ”λ‹¤ ν•μ€λ‹¤. μ΄λ• μ‚¬μ©λλ” μ•”νΈν™” μ•κ³ λ¦¬μ¦μ„ λ‹΄μ€ ν‚¤λ¥Ό **μ•”νΈν™” ν‚¤**λΌ λ¶€λ¥Έλ‹¤.

  μ•”νΈν™”λ¥Ό μ„ν• μ•κ³ λ¦¬μ¦μ€ λ…Έμ¶λμ§€ μ•μ•„μ•Ό ν•λ©°, λν• μ›λ λ°μ΄ν„°λ΅ λ³µνΈν™” ν•λ” κ³Όμ •μ—μ„λ„ ν‚¤κ°€ ν•„μ”ν•λ‹¤. λ”°λΌμ„ ν‚¤λ” μ–‘μ½μ—μ„ λ¨λ‘ λ¶„λ°°ν•μ—¬ κ³µμ λμ–΄μ•Ό ν•λ‹¤.

<br>
<br>

#### 1-2. μΈμ¦μ„(Certificate)

---

![https-6](https://user-images.githubusercontent.com/83164003/142827154-ae8fcade-3dd5-4da3-a142-6f978b829f46.jpeg)

- μ•”νΈν™”μ‹ μ‚¬μ©λλ” μ•”νΈν™” ν‚¤λ¥Ό λ‹΄μΌλ©° λ°μ΄ν„° μ κ³µμμ μ‹ μ›μ„ ν™•μΈ ν•  μ μλ” μλ‹¨μ΄λ‹¤.

- μ΄μ²λΌ HTTPS ν†µμ‹ κ³Όμ •μ—μ„ μ¤‘μ”ν• μΈμ¦μ„λ” μΈμ¦κΈ°κ΄€μΈ CA(Certificate Authority)μ—μ„ λ°κΈ‰ν•κ³  κ΄€λ¦¬λ¥Ό ν•λ―€λ΅ μ„Έκ³„μ μΌλ΅ μ‹ λΆ°λ°›λ” κΈ°κ΄€μ΄ μ΄μν•λ‹¤.

<br>
<br>

#### 1-3. HTTPS ν†µμ‹  κ³Όμ •

---

![YIfy1wK](https://user-images.githubusercontent.com/83164003/142827860-4f204e53-61a5-4dd2-8a4c-339e24ba62f9.png)

<br>
<br>

### 2. Hashing

---

- μ–΄λ–¤ λ¬Έμμ—΄μ— μ„μμ 'μ—°μ‚°'μ„ μ μ©ν•μ—¬ λ‹¤λ¥Έ λ¬Έμμ—΄λ΅ λ³€ν™ν•λ” κ²ƒμ„ λ§ν•λ‹¤.

  μ—¬λ¬ μ•κ³ λ¦¬μ¦μ΄ μ΅΄μ¬ν•λ‚, κ°λ…λ§ μµνκ³  λ„μ–΄κ°€μ.

<br>
<br>

### 3. Cookie

---

- μΏ ν‚¤λ” μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈμ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” λ°©λ²•μ¤‘ ν•λ‚μ΄λ‹¤.<br>
  μ›Ήμ‚¬μ΄νΈλ¥Ό λ°©λ¬Έν•κ² λλ©΄, μ‚¬μ©μλ” μ‘μ€ μ •λ³΄ μ΅°κ°μΈ μΏ ν‚¤λ¥Ό μ €μ¥ν•κ² λλ‹¤.

  μ΄ μΏ ν‚¤μ— λ΅κ·ΈμΈ μ •λ³΄λ“±μ„ λ‹΄μ•„ λ΅κ·ΈμΈ μƒνƒλ¥Ό μ μ§€ν•λ”λ“±μ κΈ°λ¥μ΄ κ°€λ¥ν•κ² λλ‹¤.

- μ•μ„ μ–ΈκΈ‰ν• κ²ƒμ²λΌ μ›Ή μ„λ²„λ” μ‚¬μ©μμ—κ² μΏ ν‚¤λ¥Ό μ΄μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ³  μ›ν•  λ• μ΄ λ°μ΄ν„°λ¥Ό λ‹¤μ‹ λ¶λ¬μ™€ μ‚¬μ©ν•  μ μλ‹¤.

  ν•μ§€λ§ λ°μ΄ν„°λ¥Ό μ €μ¥ν• μ΄ν›„ μ•„λ¬΄ λ•λ‚ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¬ μ μ—†μΌλ©°, λ°μ΄ν„°λ¥Ό μ €μ¥ν• μ΄ν›„ νΉμ • μ΅°κ±΄λ“¤μ΄ λ§μ΅±ν•λ” κ²½μ°μ—λ§ λ‹¤μ‹ κ°€μ Έμ¬ μ μλ‹¤.<br> μΏ ν‚¤ μµμ…μ„ μ‚΄ν΄λ³΄λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

<br>
<br>

#### 3-1. Cookie μµμ…

---

1. **Domain**

   - μΏ ν‚¤ μµμ…μ—μ„ λ„λ©”μΈ μ •λ³΄κ°€ μ΅΄μ¬ν•λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μΏ ν‚¤μ λ„λ©”μΈ μµμ…κ³Ό μ„λ²„μ λ„λ©”μΈμ΄ μΌμΉν•΄μ•Όλ§ μΏ ν‚¤λ¥Ό μ „μ†΅ν•  μ μλ‹¤.

2. **Path**

   - μ„Έλ¶€ κ²½λ΅λ” μ„λ²„κ°€ λΌμ°ν…ν•  λ• μ‚¬μ©ν•λ” κ²½λ΅μ΄λ‹¤.

     λ§μ•½ μ”μ²­ν•΄μ•Ό ν•λ” URLμ΄ `http://www.localhost.com:3000/users/login` μΈ κ²½μ°λΌλ©΄ μ—¬κΈ°μ—μ„ Pathλ” `/users/login`μ΄λ‹¤.

   - λ…μ‹ν•μ§€ μ•μΌλ©΄ κΈ°λ³ΈμΌλ΅ `/` μΌλ΅ μ„¤μ •λμ–΄ μλ‹¤.

3. **MaxAge** or **Expires**

   - μΏ ν‚¤κ°€ μ ν¨ν• κΈ°κ°„μ„ μ •ν•λ” MaxAgeλ” μ•μΌλ΅ λ‡ μ΄ λ™μ• μΏ ν‚¤κ°€ μ ν¨ν•μ§€ μ„¤μ •ν•λ” μµμ…μ΄λ‹¤.

     `Expires` μ€ MaxAgeμ™€ λΉ„μ·ν•μ§€λ§, ν•΄λ‹Ή μµμ…κ°’μ€μ–Έμ κΉμ§€ μ ν¨ν•μ§€ `Date`λ¥Ό μ§€μ •ν•λ” μ°¨μ΄κ°€ μλ‹¤.

4. **Secure**

   - μΏ ν‚¤λ¥Ό μ „μ†΅ν•΄μ•Ό ν•  λ• μ‚¬μ©ν•λ” ν”„λ΅ν† μ½μ— λ”°λ¥Έ μΏ ν‚¤ μ „μ†΅ μ—¬λ¶€λ¥Ό κ²°μ •ν•λ‹¤.

     λ§μ•½ ν•΄λ‹Ή μµμ…μ΄ `true`λ΅ μ„¤μ •λ κ²½μ°, 'HTTPS' ν”„λ΅ν† μ½μ„ μ΄μ©ν•μ—¬ ν†µμ‹ ν•λ” κ²½μ°μ—λ§ μΏ ν‚¤λ¥Ό μ „μ†΅ν•  μ μλ‹¤.

5. **HttpOnly**

   - μλ°”μ¤ν¬λ¦½νΈμ—μ„ λΈλΌμ°μ €μ μΏ ν‚¤μ— μ ‘κ·Ό μ—¬λ¶€λ¥Ό κ²°μ •ν•λ‹¤.<br>λ§μ•½ ν•΄λ‹Ή μµμ…μ΄ `true`λ΅ μ„¤μ •λ κ²½μ°, μλ°”μ¤ν¬λ¦½νΈμ—μ„λ” μΏ ν‚¤μ— μ ‘κ·Όμ΄ λ¶κ°€ν•λ‹¤.

   - λ…μ‹λμ§€ μ•λ” κ²½μ° κΈ°λ³ΈμΌλ΅ `false`λ΅ μ§€μ •λμ–΄ μλ‹¤. λ§μ•½ μ΄ μµμ…μ΄ `false`μΈ κ²½μ° μλ°”μ¤ν¬λ¦½νΈμ—μ„ μΏ ν‚¤μ— μ ‘κ·Όμ΄ κ°€λ¥ν•λ―€λ΅ 'XSS' κ³µκ²©μ— μ·¨μ•½ν•΄μ§„λ‹¤.

6. **SameSite**

   - Cross-Origin μ”μ²­μ„ λ°›μ€ κ²½μ° μ”μ²­μ—μ„ μ‚¬μ©ν• λ©”μ†λ“μ™€ ν•΄λ‹Ή μµμ…μ μ΅°ν•©μΌλ΅ μ„λ²„μ μΏ ν‚¤ μ „μ†΅ μ—¬λ¶€λ¥Ό κ²°μ •ν•κ² λλ‹¤.

     - Lax : Cross-Origin μ”μ²­μ΄λ©΄ `GET` λ©”μ†λ“μ— λ€ν•΄μ„λ§ μΏ ν‚¤λ¥Ό μ „μ†΅ν•  μ μλ‹¤.

     - Strict : Cross-Originμ΄ μ•„λ‹ `same-site` μΈ κ²½μ°μ—λ§ μΏ ν‚¤λ¥Ό μ „μ†΅ ν•  μ μλ‹¤.

     - None : ν•­μƒ μΏ ν‚¤λ¥Ό λ³΄λ‚΄μ¤„ μ μλ‹¤. λ‹¤λ§ μΏ ν‚¤ μµμ… μ¤‘ `Secure` μµμ…μ΄ ν•„μ”ν•λ‹¤.

- μ΄λ¬ν• μµμ…λ“¤μ„ μ§€μ •ν• λ‹¤μ μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μΏ ν‚¤λ¥Ό **μ²μ** μ „μ†΅ν•κ² λλ‹¤λ©΄ ν—¤λ”μ— `Set-Cookie`λΌλ” ν”„λ΅νΌν‹°μ— μΏ ν‚¤λ¥Ό λ‹΄μ•„ μ „μ†΅ν•  μ μλ‹¤.

  μ΄ν›„ ν΄λΌμ΄μ–ΈνΈ νΉμ€ μ„λ²„μ—μ„ μΏ ν‚¤λ¥Ό μ „μ†΅ν•΄μ•Ό ν•λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈλ” ν—¤λ”μ— CookieλΌλ” ν”„λ΅νΌν‹°μ— μΏ ν‚¤λ¥Ό λ‹΄μ•„ μ„λ²„μ— μΏ ν‚¤λ¥Ό μ „μ†΅ν•κ² λλ‹¤.

<br>
<br>

#### 3-2. Cookieλ¥Ό μ΄μ©ν• μƒνƒ μ μ§€

---

- HTTP ν”„λ΅ν† μ½μ νΉμ§•μ¤‘ ν•λ‚μΈ **λ¬΄μƒνƒμ„±(Stateless)** μ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ ν†µμ‹ μ΄ μ—°κ²°μ„ λλ” μκ°„ μƒνƒ μ •λ³΄λ” μ μ§€ν•μ§€ μ•λ” νΉμ„±μ΄λ‹¤.

  ν•μ§€λ§ μΏ ν‚¤μ λ“±μ¥μΌλ΅ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ— μΈμ¦μ •λ³΄λ¥Ό λ‹΄μ€ μΏ ν‚¤λ¥Ό μ „μ†΅ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” μ „λ‹¬λ°›μ€ μΏ ν‚¤λ¥Ό μ”μ²­κ³Ό κ°™μ΄ μ „μ†΅ν•μ—¬ λ¬΄μƒνƒμ„±μ μ„±κ²©μ„ μ§€λ‹ μΈν„°λ„· μ—°κ²°μ„ **Stateful** ν•κ² μ μ§€ν•  μ μκ² λμ—λ‹¤.

- ν•μ§€λ§ κΈ°λ³Έμ μΌλ΅λ” μΏ ν‚¤λ” `MaxAge`λ“± μµμ…μ„¤μ •μΌλ΅ μΈν•΄ μ¤λ μ‹κ°„ λ™μ• μ μ§€λ  μ μκ³ , μλ°”μ¤ν¬λ¦½νΈλ¥Ό μ΄μ©ν•΄μ„ μΏ ν‚¤μ— μ ‘κ·Όν•  μ μκΈ° λ•λ¬Έμ— μΏ ν‚¤μ— λ―Όκ°ν• μ •λ³΄λ¥Ό λ‹΄λ” κ²ƒμ€ μ„ν—ν•λ‹¤.

<br>
<br>

## π¤” Understanding

- HTTPS ν”„λ΅ν† μ½μ λ“±μ¥ μ΄μ (κ²°μ  μ‚¬μ΄νΈλ“±...λ³΄μ•μ„±μ„ μ„ν• ν™νμ΄μ§€μ ν•„μ”μ„±)μ™€ κ·Έλ¥Ό κ°€λ¥ν•κ² ν•λ” μ•”νΈν™” κ³Όμ •, κ·Έλ¦¬κ³  κ·Έλ¥Ό ν•΄λ…ν•κΈ° μ„ν• ν•΄μ‹±μ΄ κ³µμ‹ λ ¥μλ” CAμ—…μ²΄μ—μ„ λ°κΈ‰ν• μ‹ λΆ°μλ” μΈμ¦μ„λ¥Ό ν†µν• κ³Όμ •μ΄λΌλ” κ°λ…μ„ ν•™μµν–λ‹¤. ~~μ‚΄λ©΄μ„ λΈλΌμ°μ € μ£Όμ†μ°½μ— μλ¬Όμ‡ κ°€ μμ—λ‹¤λ” κ±Έ μ²μμ•μ•λ‹¤~~

  μ΄λ¥Ό μ²λ¦¬ν•λ” κ³Όμ •μ—μ„ ν΄λΌμ΄μ–ΈνΈ/μ„λ²„μ—μ„λ” μ–΄λ– ν• ν”„λ μ„μ›ν¬κ°€ μ΄λ¤„μ§€λ”μ§€ μ‹¤μµκΉμ§€ μ΄μ–΄κ°€μ.

<br>
<br>

```toc

```
