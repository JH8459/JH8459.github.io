{"componentChunkName":"component---src-templates-blog-template-js","path":"/2025-03-31-PROJECT/","result":{"data":{"cur":{"id":"339c4b95-e05a-5ddc-8f1f-eb9e6ff88faf","html":"<img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/banner.png\">\n<br>\n<h2 id=\"ì™œ-ec2ì—ì„œ-nasë¡œ-ì˜®ê¸°ê²Œ-ë˜ì—ˆëŠ”ê°€\" style=\"position:relative;\"><a href=\"#%EC%99%9C-ec2%EC%97%90%EC%84%9C-nas%EB%A1%9C-%EC%98%AE%EA%B8%B0%EA%B2%8C-%EB%90%98%EC%97%88%EB%8A%94%EA%B0%80\" aria-label=\"ì™œ ec2ì—ì„œ nasë¡œ ì˜®ê¸°ê²Œ ë˜ì—ˆëŠ”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì™œ EC2ì—ì„œ NASë¡œ ì˜®ê¸°ê²Œ ë˜ì—ˆëŠ”ê°€?</h2>\n<p>ì‚¬ìš© ì¤‘ì¸ NASì˜ ì‚¬ìš©ì„±ì´ DSM 7.2+ (Synologyì‚¬ì˜ DS920+ ê¸°ì¤€) ë¶€í„° ë§ì´ ë‹¬ë¼ì¡Œë‹¤. ë‹¨ìˆœíˆ UI/UXë§Œ ë³€ê²½ëœê²ƒì´ ì•„ë‹ˆë¼ (êµ¬)Docker íŒ¨í‚¤ì§€ì—ì„œ ë³€ê²½ëœ <strong>Container Manager íŒ¨í‚¤ì§€</strong>ëŠ” ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ ì§€ì›í•œë‹¤.</p>\n<br>\n<img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/container_manager.jpg\">\n<center>Docker Compose! ğŸ˜²</center><br><br>\n<p>EC2 t2.micro ì¸ìŠ¤í„´ìŠ¤ë¡œ ì‚¬ìš© ì¤‘ì´ë˜ ì„œë²„ì— ì˜¬ë ¤ë‘” ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ <a href=\"https://blog.jh8459.com/2024-07-01-PROJECT/\" target=\"_blank\">í”„ë¡œì íŠ¸ (LOTTERY ğŸ€)</a>ë¥¼ ë¹„ìš© íš¨ìœ¨ì ì¸ ì¸¡ë©´ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸° ì¢‹ì€ ê¸°íšŒë¼ ìƒê°í–ˆë‹¤.</p>\n<p>EC2ì—ì„œ NASë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ëŠ” ê³¼ì •ê³¼ Github Action + Docker Hubë¥¼ ì‚¬ìš©í•œ CI / CD êµ¬ì¶•í•œ ê³¼ì • ë˜í•œ ê°„ëµíˆ ë‚¨ê²¨ ë³´ë ¤í•œë‹¤.</p>\n<br>\r\n<br>\n<h3 id=\"1-cicd-íŒŒì´í”„ë¼ì¸-êµ¬ì„±\" style=\"position:relative;\"><a href=\"#1-cicd-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EA%B5%AC%EC%84%B1\" aria-label=\"1 cicd íŒŒì´í”„ë¼ì¸ êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±</h3>\n<hr>\n<p>ì „ë°˜ì ì¸ CI/CDëŠ” <strong>Github Action</strong> + <strong>Docker Hub</strong> ë¥¼ í™œìš©í•˜ì˜€ìœ¼ë©°, CI / CD ë‚˜ëˆ„ì–´ Github ì €ì¥ì†Œì˜ ë¸ŒëŸ°ì¹˜ë¥¼ í™œìš©í•´ì„œ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ì˜€ë‹¤. (CI/CD ëª¨ë‘ë¥¼ ìë™í™”ëŠ” ì•„ë˜ì™€ ê°™ì€ ë¬´ì¤‘ë‹¨ ë°°í¬ ì „ëµê¹Œì§€ ë„ì… í›„ ìˆ˜ì •í•  ì˜ˆì •ì´ë‹¤.)</p>\n<blockquote>\n<p>ğŸ‘‰ <a href=\"https://blog.jh8459.com/2025-03-16-TIL/\" target=\"_blank\">Docker Composeì™€ Traefikì„ í™œìš©í•œ Blue/Green ë°°í¬ ì „ëµ</a></p>\n</blockquote>\n<br>\n<img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/pipeline.png\">\n<center>ì „ë°˜ì ì¸ CI/CD íë¦„ì€ ìœ„ ì‚¬ì§„ê³¼ ê°™ì´ ì§„í–‰ëœë‹¤. ğŸ¤–</center><br><br>\n<ol>\n<li>\n<p>Local Repositoryì—ì„œ ì‘ì—…í•œ ê²°ê³¼ë¬¼ì„ Github ì›ê²© Remote Repositoryì˜ <code class=\"language-text\">master</code> ë¸ŒëŸ°ì¹˜ë¡œ Push í•œë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">master</code> ë¸ŒëŸ°ì¹˜ë¡œ Commitì´ Pushë˜ë©´ ì•„ë˜ì˜ ì¡°ê±´ì„ ê°–ëŠ” Github Action <strong>(CI)</strong> ì´ ë™ì‘í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build &amp; Push Docker Images (CI)\r\n\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'master'</span><span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">...</span></code></pre></div>\n</li>\n<li>\n<p>Github Action Runnerë¥¼ í†µí•´ì„œ <code class=\"language-text\">master</code> ë¸ŒëŸ°ì¹˜ì— ì˜¬ë¼ê°„ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ Docker Imageê°€ ë¹Œë“œë˜ê³  ë¹Œë“œ ì„±ê³µì‹œ Docker Hubì— Pushí•œë‹¤.</p>\n</li>\n<li>\n<p>Github Action <strong>(CI)</strong> ì´ ì„±ê³µí•˜ë©´ ë°°í¬ ì¤€ë¹„ê°€ ì™„ë£Œëœ ìƒíƒœì´ë‹¤. ë°°í¬ê°€ í•„ìš”í•˜ë‹¤ë©´ <code class=\"language-text\">prod</code> ë¸ŒëŸ°ì¹˜ë¡œ PRì„ ë‚ ë¦°ë‹¤.</p>\n</li>\n<li>\n<p><code class=\"language-text\">prod</code> ë¸ŒëŸ°ì¹˜ë¡œ PRì´ Mergeë˜ë©´ ì•„ë˜ì˜ ì¡°ê±´ì„ ê°–ëŠ” Github Action <strong>(CD)</strong> ì´ ë™ì‘í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy to NAS (CD)\r\n\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'prod'</span><span class=\"token punctuation\">]</span>\r\n<span class=\"token punctuation\">...</span></code></pre></div>\n</li>\n<li>\n<p>Github Action Runnerë¥¼ í†µí•´ì„œ NASì— SSHì ‘ì†ì´ ì´ë¤„ì§€ë©° ìš´ì˜ í™˜ê²½ì— ì•Œë§ëŠ” <code class=\"language-text\">.env</code> í™˜ê²½ë³€ìˆ˜ íŒŒì¼ì„ ìƒì„±í•œë‹¤.</p>\n</li>\n<li>\n<p>Docker Hubì— ì˜¬ë¼ê°„ Docker Imageë¥¼ ê¸°ë°˜ìœ¼ë¡œ NAS ì„œë²„ì— ë°°í¬ë¥¼ ì§„í–‰í•œë‹¤.</p>\n</li>\n</ol>\n<br>\r\n<br>\n<h3 id=\"2-nasì—ì„œ-í™˜ê²½-êµ¬ì„±\" style=\"position:relative;\"><a href=\"#2-nas%EC%97%90%EC%84%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1\" aria-label=\"2 nasì—ì„œ í™˜ê²½ êµ¬ì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. NASì—ì„œ í™˜ê²½ êµ¬ì„±</h3>\n<hr>\n<p>ìœ„ì—ì„œ ì–¸ê¸‰í•œ CI/CD íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ë ¤ë©´ NASì—ë„ ì•„ë˜ì™€ ê°™ì€ í™˜ê²½ êµ¬ì„±ì´ í•„ìš”í•˜ë‹¤.</p>\n<blockquote>\n<p>ì´ìš© ì¤‘ì¸ NASì˜ OSëŠ” <strong>Ubuntu OS</strong>ê°€ ì•„ë‹Œ Synologyì—ì„œ ê°œë°œëœ ìì²´ OSì¸ <strong>DSM</strong>ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, <code class=\"language-text\">sudo apt-get install git</code> ê°™ì€ CLI ëª…ë ¹ì–´ê°€ ì•„ë‹Œ DSM íŒ¨í‚¤ì§€ ì„¼í„°ë¥¼ í†µí•´ ì•„ë˜ì™€ ê°™ì€ í™˜ê²½ì„ êµ¬ì„±í•´ì¤˜ì•¼ í•œë‹¤.</p>\n</blockquote>\n<br>\r\n<br>\n<h4 id=\"2-1-container-manager-íŒ¨í‚¤ì§€-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#2-1-container-manager-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\" aria-label=\"2 1 container manager íŒ¨í‚¤ì§€ ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-1. Container Manager íŒ¨í‚¤ì§€ ì„¤ì¹˜</h4>\n<hr>\n<p>ì „ë°˜ì ì¸ <strong>Container Manager</strong>ë¥¼ í™œìš©í•œ NAS í™˜ê²½ êµ¬ì„±ì€ ì„œë²„ í¬ëŸ¼ì˜<a href=\"https://svrforum.com/nas/695302\" target=\"_blank\">â€œì´ì œ ì‹œë†€ë¡œì§€ì—ì„œ Docker-composeë¥¼(?) DSM 7.2ì˜ Container Manangerâ€</a>ê²Œì‹œê¸€ì„ ë³´ê³  êµ¬ì„±í•˜ì˜€ë‹¤. ğŸ™ğŸ™ğŸ™</p>\n<p>volumeì„ ì„¤ì •í• ë•Œ ë””ë ‰í† ë¦¬ëŠ” ì¶”í›„ <strong>docker-compose.yml</strong> íŒŒì¼ì´ ìˆ˜ì •ë˜ëŠ” ê²½ìš°ì—ë„ Github ì›ê²© ì €ì¥ì†Œì˜ <code class=\"language-text\">prod</code> ë¸ŒëŸ°ì¹˜ì˜ ì½”ë“œë¥¼ ë‚´ë ¤ë°›ì•„ ìµœì‹ í™”ë˜ì–´ì•¼í•œë‹¤. (ì´ë¥¼ ì—¼ë‘í•˜ê³  ì„¤ì •í•˜ì.)</p>\n<img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/volume.png\">\n<br>\r\n<br>\n<h4 id=\"2-2-git-server-íŒ¨í‚¤ì§€-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#2-2-git-server-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\" aria-label=\"2 2 git server íŒ¨í‚¤ì§€ ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-2. Git Server íŒ¨í‚¤ì§€ ì„¤ì¹˜</h4>\n<hr>\n<p>CLI ëª…ë ¹ìœ¼ë¡œ ì„¤ì¹˜ê°€ ì•ˆë˜ë¯€ë¡œ DSM íŒ¨í‚¤ì§€ ì„¼í„°ì˜ <strong>Git Server</strong> íŒ¨í‚¤ì§€ë¥¼ ë‚´ë ¤ ë°›ì•„ì•¼ í•œë‹¤.</p>\n<img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/git.png\">\n<br>\r\n<br>\n<h4 id=\"2-3-nasì˜-ssh-ì›ê²©-ì ‘ì†-í¬íŠ¸-í—ˆìš©\" style=\"position:relative;\"><a href=\"#2-3-nas%EC%9D%98-ssh-%EC%9B%90%EA%B2%A9-%EC%A0%91%EC%86%8D-%ED%8F%AC%ED%8A%B8-%ED%97%88%EC%9A%A9\" aria-label=\"2 3 nasì˜ ssh ì›ê²© ì ‘ì† í¬íŠ¸ í—ˆìš© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-3. NASì˜ SSH ì›ê²© ì ‘ì† í¬íŠ¸ í—ˆìš©</h4>\n<hr>\n<p>CI/CD ê³¼ì •ì—ì„œ Github Action í†µí•´ì„œ NASë¡œ SSH ì ‘ì†ì´ ì´ë¤„ì ¸ì•¼ í•˜ë¯€ë¡œ í•´ë‹¹ ì˜µì…˜ì„ í—ˆìš©í•´ì£¼ì.</p>\n<img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/ssh.png\">\n<br>\r\n<br>\n<h4 id=\"2-4-nasì˜-ì—­ë°©í–¥-í”„ë¡ì‹œ-ì„¤ì •\" style=\"position:relative;\"><a href=\"#2-4-nas%EC%9D%98-%EC%97%AD%EB%B0%A9%ED%96%A5-%ED%94%84%EB%A1%9D%EC%8B%9C-%EC%84%A4%EC%A0%95\" aria-label=\"2 4 nasì˜ ì—­ë°©í–¥ í”„ë¡ì‹œ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-4. NASì˜ ì—­ë°©í–¥ í”„ë¡ì‹œ ì„¤ì •</h4>\n<hr>\n<p>Ubuntu OSì—ì„œ ì›¹ ì„œë²„ë¥¼ êµ¬ì„±í•  ë• <strong>traefik</strong> í˜¹ì€ <strong>nginx</strong>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—­ë°©í–¥ í”„ë¡ì‹œ(Reverse Proxy) ì„œë²„ êµ¬ì„±ì„ í•˜ì˜€ì§€ë§Œ, DSM ê¸°ë³¸ ê¸°ëŠ¥ì¸ ì—­ë°©í–¥ í”„ë¡ì‹œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ë„ë©”ì¸ ì†ŒìŠ¤ì™€ NAS ë‚´ë¶€ ì„œë¹„ìŠ¤ë¥¼ ë§µí•‘ ì‹œì¼œì£¼ì—ˆë‹¤.</p>\n<img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/reverse.png\">\n<br>\r\n<br>\n<h4 id=\"2-4-ê³µìœ ê¸°-í¬íŠ¸í¬ì›Œë”©-ì„¤ì •\" style=\"position:relative;\"><a href=\"#2-4-%EA%B3%B5%EC%9C%A0%EA%B8%B0-%ED%8F%AC%ED%8A%B8%ED%8F%AC%EC%9B%8C%EB%94%A9-%EC%84%A4%EC%A0%95\" aria-label=\"2 4 ê³µìœ ê¸° í¬íŠ¸í¬ì›Œë”© ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-4. ê³µìœ ê¸° í¬íŠ¸í¬ì›Œë”© ì„¤ì •</h4>\n<hr>\n<p>í™ˆ ë„¤íŠ¸ì›Œí¬ëŠ” ë³´í†µ ê³µìœ ê¸°ë¥¼ ì‚¬ìš©ì¤‘ì¼í…ë° ì™¸ë¶€ë§ì„ í†µí•´ NASì—ì„œ ì‹¤í–‰ì¤‘ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ë„ë‹¬í•˜ë ¤ë©´ ê³µìœ ê¸°ì˜ í¬íŠ¸ í¬ì›Œë”© ê·œì¹™ì„ í—ˆìš©í•´ì¤˜ì•¼ í•œë‹¤.</p>\n<p>ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ NASì˜ 1111ë²ˆ í¬íŠ¸ë¥¼ ì‚¬ìš©ì¤‘ì´ë¼ë©´ ì•„ë˜ì™€ ê°™ì€ ê·œì¹™ì„ í—ˆìš©í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<p><img src=\"https://jh8459.s3.ap-northeast-2.amazonaws.com/blog/2025-03-31-PROJECT/port.png\"><br></p>\n<br>\r\n<br>\n<h3 id=\"3-github-actions-ì‚´í´ë³´ê¸°\" style=\"position:relative;\"><a href=\"#3-github-actions-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"3 github actions ì‚´í´ë³´ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. GitHub Actions ì‚´í´ë³´ê¸°</h3>\n<hr>\n<p>ê¸°ë³¸ì ìœ¼ë¡œ <strong>Public</strong> ì €ì¥ì†Œì´ê¸° ë•Œë¬¸ì— ë…¸ì¶œë˜ë©´ ì•ˆë˜ëŠ” ê°’ë“¤ì€ Github Repositoryì—ì„œ ì œê³µí•˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë¥¼ í†µí•´ ë³€ì¸ ìš”ì¸ë“¤ì„ ê´€ë¦¬í•˜ê³  ìˆë‹¤.</p>\n<p>Github Actionì€ CI/CD íŒŒì´í”„ë¼ì¸ì´ ëª¨ë‘ ìë™í™”ë˜ê³  ìˆì§„ ì•Šìœ¼ë¯€ë¡œ ì´ë¯¸ì§€ ë¹Œë“œë¥¼ ë‹´ë‹¹í•˜ëŠ” <strong>ci.yml</strong>ê³¼ NASë¡œ ì›ê²© ì ‘ì†í•˜ì—¬ ë°°í¬ë¥¼ ì§„í–‰í•˜ëŠ” <strong>cd.yml</strong> ë‘ê°œë¡œ ë¶„ë¦¬í•˜ì—¬ êµ¬ì„±í•˜ì˜€ë‹¤.</p>\n<br>\r\n<br>\n<h4 id=\"3-1-ciyml\" style=\"position:relative;\"><a href=\"#3-1-ciyml\" aria-label=\"3 1 ciyml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-1. ci.yml</h4>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build &amp; Push Docker Images (CI)\r\n\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>master<span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> CI\r\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\r\n\r\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout Repository\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v4\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Set up Docker Buildx\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> docker/setup<span class=\"token punctuation\">-</span>buildx<span class=\"token punctuation\">-</span>action@v3\r\n\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Login to DockerHub\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> docker/login<span class=\"token punctuation\">-</span>action@v3\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DOCKERHUB_USERNAME <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DOCKERHUB_PASSWORD <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n\r\n      <span class=\"token comment\"># Build and push API</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build and Push lottery_api_server Image\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          docker build -t ${{ secrets.DOCKERHUB_USERNAME }}/lottery_api_server:latest ./api\r\n          docker push ${{ secrets.DOCKERHUB_USERNAME }}/lottery_api_server:latest</span>\r\n\r\n      <span class=\"token comment\"># Build and push Crawler</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build and Push lottery_crawler_server Image\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          docker build -t ${{ secrets.DOCKERHUB_USERNAME }}/lottery_crawler_server:latest ./crawler\r\n          docker push ${{ secrets.DOCKERHUB_USERNAME }}/lottery_crawler_server:latest</span>\r\n\r\n      <span class=\"token comment\"># Build and push Website</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build and Push lottery_website Image\r\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n          docker build -t ${{ secrets.DOCKERHUB_USERNAME }}/lottery_website:latest ./website\r\n          docker push ${{ secrets.DOCKERHUB_USERNAME }}/lottery_website:latest</span></code></pre></div>\n<br>\r\n<br>\n<h4 id=\"3-2-cdyml\" style=\"position:relative;\"><a href=\"#3-2-cdyml\" aria-label=\"3 2 cdyml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-2. cd.yml</h4>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy to NAS (CD)\r\n\r\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">pull_request</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>prod<span class=\"token punctuation\">]</span>\r\n\r\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Deploy to NAS\r\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\r\n\r\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Connect to NAS via SSH and deploy\r\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> appleboy/ssh<span class=\"token punctuation\">-</span>action@v0.1.6\r\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\r\n          <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.NAS_HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.NAS_USER <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.NAS_PASSWORD <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.NAS_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n          <span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\r\n            echo \"âœ… NAS ì ‘ì† ì„±ê³µ\"</span>\r\n\r\n            cd /volume1/docker/lottery\r\n\r\n            echo \"ğŸ“¦ COMMON .env ìƒì„±\"\r\n            <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">-</span>f .env <span class=\"token punctuation\">]</span> <span class=\"token important\">&amp;&amp;</span> rm .env\r\n            cat &lt;&lt;EOF <span class=\"token punctuation\">></span> .env\r\n            NODE_ENV=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.NODE_ENV <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_SERVER_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_SERVER_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            CRAWLER_SERVER_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.CRAWLER_SERVER_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            WEBSITE_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.WEBSITE_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            EOF\r\n\r\n            echo \"ğŸ“¦ API .env ìƒì„±\"\r\n            mkdir <span class=\"token punctuation\">-</span>p ./api\r\n            <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">-</span>f ./api/.env <span class=\"token punctuation\">]</span> <span class=\"token important\">&amp;&amp;</span> rm ./api/.env\r\n            cat &lt;&lt;EOF <span class=\"token punctuation\">></span> ./api/.env\r\n            DB_HOST=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_USER=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_USER <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_PASSWORD=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_PASSWORD <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_DATABASE=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_DATABASE <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_NODE_ENV=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_NODE_ENV <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_SERVER_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_SERVER_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_EMAIL_USERNAME=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_EMAIL_USERNAME <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_EMAIL_PASSWORD=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_EMAIL_PASSWORD <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_EMAIL_HOST=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_EMAIL_HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_EMAIL_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_EMAIL_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_EMAIL_FROM=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_EMAIL_FROM <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_REDIS_HOST=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_REDIS_HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_REDIS_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_REDIS_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_SLACK_SIGNING_SECRET=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_SLACK_SIGNING_SECRET <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_SLACK_BOT_TOKEN=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_SLACK_BOT_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_SLACK_CLIENT_ID=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_SLACK_CLIENT_ID <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            API_SLACK_CLIENT_SECRET=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.API_SLACK_CLIENT_SECRET <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            COMMON_GITHUB_TOKEN=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.COMMON_GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            SWAGGER_USERNAME=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.SWAGGER_USERNAME <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            SWAGGER_PASSWORD=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.SWAGGER_PASSWORD <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            EOF\r\n\r\n            echo \"ğŸ“¦ CRAWLER .env ìƒì„±\"\r\n            mkdir <span class=\"token punctuation\">-</span>p ./crawler\r\n            <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">-</span>f ./crawler/.env <span class=\"token punctuation\">]</span> <span class=\"token important\">&amp;&amp;</span> rm ./crawler/.env\r\n            cat &lt;&lt;EOF <span class=\"token punctuation\">></span> ./crawler/.env\r\n            DB_HOST=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_HOST <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_USER=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_USER <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_PASSWORD=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_PASSWORD <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            DB_DATABASE=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DB_DATABASE <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            CRAWLER_SERVER_PORT=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.CRAWLER_SERVER_PORT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            COMMON_GITHUB_TOKEN=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.COMMON_GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\r\n            EOF\r\n\r\n            echo \"ğŸŒ€ GitHub prod ë¸Œëœì¹˜ ì½”ë“œ ìµœì‹ í™”\"\r\n            git fetch origin\r\n            git reset <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>hard origin/prod\r\n\r\n            echo \"ğŸ“ í•„ìš”í•œ ë””ë ‰í† ë¦¬ ìƒì„±\"\r\n            mkdir <span class=\"token punctuation\">-</span>p ./api/logs ./api/public ./api/resource\r\n            mkdir <span class=\"token punctuation\">-</span>p ./crawler/logs ./crawler/public ./crawler/resource\r\n            mkdir <span class=\"token punctuation\">-</span>p ./redis<span class=\"token punctuation\">-</span>data\r\n\r\n            echo \"ğŸ³ Docker ì´ë¯¸ì§€ Pull\"\r\n            /usr/local/bin/docker<span class=\"token punctuation\">-</span>compose pull\r\n\r\n            echo \"ğŸ§¨ ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ì¤‘ì§€\"\r\n            /usr/local/bin/docker<span class=\"token punctuation\">-</span>compose down\r\n\r\n            echo \"ğŸš€ ìµœì‹  ì´ë¯¸ì§€ë¡œ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘\"\r\n            /usr/local/bin/docker<span class=\"token punctuation\">-</span>compose up <span class=\"token punctuation\">-</span>d\r\n\r\n            echo \"âœ… ë°°í¬ ì™„ë£Œ ğŸ‰\"</code></pre></div>\n<br>\r\n<br>\n<h2 id=\"-understanding\" style=\"position:relative;\"><a href=\"#-understanding\" aria-label=\" understanding permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤” Understanding</h2>\n<p>ì‚¬ì§„ì´ë‚˜ ì¤‘ìš” ìë£Œ ë°±ì—… ëª©ì ìœ¼ë¡œ êµ¬ë§¤í–ˆë˜ NASë¥¼ ë‹¤ì–‘í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œê²Œë˜ì—ˆë‹¤. (ë˜í•œ, ì–¼ë§ˆ ì•ˆë˜ì§€ë§Œ EC2ë¡œ ë§¤ë‹¬ ë‚˜ê°€ëŠ” ë¹„ìš©ì„ ì•„ë‚„ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.)</p>\n<p>NASì˜ ìŠ¤í™ì´ ê·¸ë¦¬ ì¢‹ì§€ ì•Šê¸°ì— í›Œë¥­í•œ ì„œë²„ê¹Œì§„ ì•„ë‹ˆì§€ë§Œ, í† ì´ í”„ë¡œì íŠ¸ ì •ë„ëŠ” ê±°ëœ¬íˆ ì†Œí™”í•  ìˆ˜ ìˆì„ê±°ê°™ë‹¤. (í›Œë¥­í•œ ì¥ë‚œê°ì´ ìƒê²¼ë‹¤ ğŸ˜€)</p>\n<p>EC2ì—ì„œ Synology NASë¡œ ì˜®ê²¨ì˜¨ ì´ë²ˆ ê³¼ì •ì—ì„œ ê°€ì¥ í¬ê²Œ ëŠë‚€ ì ì€, <strong>ê²°êµ­ ì¤‘ìš”í•œ ê±´ ë„êµ¬ê°€ ì•„ë‹ˆë¼ íë¦„ì— ëŒ€í•œ ì´í•´</strong>ë¥¼ í•˜ëŠ”ê²Œ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ëŠ” ì ì´ì—ˆë‹¤. ì–¸ì–´ë‚˜ íŠ¹ì • í”„ë ˆì„ì›Œí¬ì— ì¢…ì†ë˜ì§€ ë§ê³  ì „ë°˜ì ì¸ CS ì§€ì‹ì„ ì¡°ê¸ˆ ë” ê³µë¶€í•´ë³´ê³  ì‹¶ì–´ì¡Œë‹¤.</p>\n<br>\r\n<br>","excerpt":"ì™œ EC2ì—ì„œ NASë¡œ ì˜®ê¸°ê²Œ ë˜ì—ˆëŠ”ê°€? ì‚¬ìš© ì¤‘ì¸ NASì˜ ì‚¬ìš©ì„±ì´ DSM 7.2+ (Synologyì‚¬ì˜ DS920+ ê¸°ì¤€) ë¶€í„° ë§ì´ ë‹¬ë¼ì¡Œë‹¤. ë‹¨ìˆœíˆ UI/UXë§Œ ë³€ê²½ëœê²ƒì´ ì•„ë‹ˆë¼ (êµ¬)Docker íŒ¨í‚¤ì§€ì—ì„œ ë³€ê²½ëœ Container Manager íŒ¨í‚¤ì§€ëŠ” ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ ì§€ì›í•œë‹¤. EC2 t2.micro ì¸ìŠ¤í„´ìŠ¤ë¡œ ì‚¬ìš© ì¤‘ì´ë˜ ì„œë²„ì— ì˜¬ë ¤ë‘” ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ í”„ë¡œì íŠ¸ (LOTTERY ğŸ€)ë¥¼ ë¹„ìš© íš¨ìœ¨ì ì¸ ì¸¡ë©´ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸° ì¢‹ì€ ê¸°íšŒë¼ ìƒê°í–ˆë‹¤. EC2ì—ì„œ NASë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ëŠ” ê³¼ì •ê³¼ Github Action + Docker Hubë¥¼ ì‚¬ìš©í•œ CI / CD êµ¬ì¶•í•œ ê³¼ì • ë˜í•œ ê°„ëµíˆ ë‚¨ê²¨ ë³´ë ¤í•œë‹¤. 1. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„± ì „ë°˜ì ì¸ CI/CDëŠ” Github Action + Docker Hub ë¥¼ í™œìš©í•˜ì˜€ìœ¼ë©°, CI / CD ë‚˜ëˆ„ì–´ Github ì €ì¥ì†Œì˜ ë¸ŒëŸ°ì¹˜ë¥¼ í™œìš©í•´ì„œ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì„±í•˜ì˜€ë‹¤. (CI/CD ëª¨ë‘ë¥¼ ìë™í™”ëŠ” ì•„ë˜ì™€ ê°™ì€ ë¬´ì¤‘ë‹¨ ë°°í¬ ì „ëµê¹Œì§€ ë„â€¦","timeToRead":4,"tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%99%9C-ec2%EC%97%90%EC%84%9C-nas%EB%A1%9C-%EC%98%AE%EA%B8%B0%EA%B2%8C-%EB%90%98%EC%97%88%EB%8A%94%EA%B0%80\">ì™œ EC2ì—ì„œ NASë¡œ ì˜®ê¸°ê²Œ ë˜ì—ˆëŠ”ê°€?</a></p>\n<ul>\n<li>\n<p><a href=\"#1-cicd-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8-%EA%B5%AC%EC%84%B1\">1. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±</a></p>\n</li>\n<li>\n<p><a href=\"#2-nas%EC%97%90%EC%84%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1\">2. NASì—ì„œ í™˜ê²½ êµ¬ì„±</a></p>\n<ul>\n<li><a href=\"#2-1-container-manager-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\">2-1. Container Manager íŒ¨í‚¤ì§€ ì„¤ì¹˜</a></li>\n<li><a href=\"#2-2-git-server-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98\">2-2. Git Server íŒ¨í‚¤ì§€ ì„¤ì¹˜</a></li>\n<li><a href=\"#2-3-nas%EC%9D%98-ssh-%EC%9B%90%EA%B2%A9-%EC%A0%91%EC%86%8D-%ED%8F%AC%ED%8A%B8-%ED%97%88%EC%9A%A9\">2-3. NASì˜ SSH ì›ê²© ì ‘ì† í¬íŠ¸ í—ˆìš©</a></li>\n<li><a href=\"#2-4-nas%EC%9D%98-%EC%97%AD%EB%B0%A9%ED%96%A5-%ED%94%84%EB%A1%9D%EC%8B%9C-%EC%84%A4%EC%A0%95\">2-4. NASì˜ ì—­ë°©í–¥ í”„ë¡ì‹œ ì„¤ì •</a></li>\n<li><a href=\"#2-4-%EA%B3%B5%EC%9C%A0%EA%B8%B0-%ED%8F%AC%ED%8A%B8%ED%8F%AC%EC%9B%8C%EB%94%A9-%EC%84%A4%EC%A0%95\">2-4. ê³µìœ ê¸° í¬íŠ¸í¬ì›Œë”© ì„¤ì •</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-github-actions-%EC%82%B4%ED%8E%B4%EB%B3%B4%EA%B8%B0\">3. GitHub Actions ì‚´í´ë³´ê¸°</a></p>\n<ul>\n<li><a href=\"#3-1-ciyml\">3-1. ci.yml</a></li>\n<li><a href=\"#3-2-cdyml\">3-2. cd.yml</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-understanding\">ğŸ¤” Understanding</a></p>\n</li>\n</ul>","frontmatter":{"date":"2025.03.31","title":"EC2ì—ì„œ NASë¡œ, ê°œì¸ ì„œë²„ CI/CD ìë™í™”","categories":"Project","author":"JH8459","emoji":"ğŸ”¥"},"fields":{"slug":"/2025-03-31-PROJECT/"}},"next":{"id":"45a5dca2-a8e0-5043-b4f4-936e507bb529","frontmatter":{"date":"2025.03.19","title":"Nest CLI ëœ¯ì–´ë³´ê¸° (nest start)","categories":"TIL","author":"JH8459","emoji":"ğŸ“š"},"fields":{"slug":"/2025-03-19-TIL/"}},"prev":{"id":"eba0e70c-51e6-5384-9c0b-ce6ff6e624e2","frontmatter":{"date":"2025.04.10","title":"NestJS + TypeORM íŠ¸ëœì­ì…˜ì„ ë‹¤ë£° ë•Œ ë°˜ë“œì‹œ í”¼í•´ì•¼ í•  íŒ¨í„´","categories":"TIL","author":"JH8459","emoji":"ğŸ“š"},"fields":{"slug":"/2025-04-10-TIL/"}},"site":{"siteMetadata":{"comments":{"giscus":{"repo":"JH8459/JH8459.github.io","repoId":"R_kgDOI03HgA","category":"Comments","categoryId":"DIC_kwDOI03HgM4CtuXL"}}}}},"pageContext":{"slug":"/2025-03-31-PROJECT/","nextSlug":"/2025-03-19-TIL/","prevSlug":"/2025-04-10-TIL/"}},"staticQueryHashes":["1073350324","2009502679","2938748437","962130685"],"slicesMap":{}}